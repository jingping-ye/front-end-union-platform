<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>表单 | 风车 | 前端同一构建平台</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="快速构建文档系统">
    <link rel="preload" href="/front/assets/css/0.styles.d5ecb08d.css" as="style"><link rel="preload" href="/front/assets/js/app.2622081b.js" as="script"><link rel="preload" href="/front/assets/js/2.63570a15.js" as="script"><link rel="preload" href="/front/assets/js/70.4c27af6e.js" as="script"><link rel="prefetch" href="/front/assets/js/10.41c677fd.js"><link rel="prefetch" href="/front/assets/js/100.f8a641f5.js"><link rel="prefetch" href="/front/assets/js/101.11330810.js"><link rel="prefetch" href="/front/assets/js/102.fbbcde1c.js"><link rel="prefetch" href="/front/assets/js/103.310a48aa.js"><link rel="prefetch" href="/front/assets/js/104.80063b17.js"><link rel="prefetch" href="/front/assets/js/105.8d845291.js"><link rel="prefetch" href="/front/assets/js/106.5f7d56e3.js"><link rel="prefetch" href="/front/assets/js/107.b5507f9e.js"><link rel="prefetch" href="/front/assets/js/108.bf2cb865.js"><link rel="prefetch" href="/front/assets/js/109.e6cb6423.js"><link rel="prefetch" href="/front/assets/js/11.fc3f0a16.js"><link rel="prefetch" href="/front/assets/js/110.db8ae241.js"><link rel="prefetch" href="/front/assets/js/111.8e52bebb.js"><link rel="prefetch" href="/front/assets/js/112.973974c9.js"><link rel="prefetch" href="/front/assets/js/113.c49e59af.js"><link rel="prefetch" href="/front/assets/js/114.8e9c6b45.js"><link rel="prefetch" href="/front/assets/js/115.110af329.js"><link rel="prefetch" href="/front/assets/js/116.5a39d7c3.js"><link rel="prefetch" href="/front/assets/js/117.3bb3c979.js"><link rel="prefetch" href="/front/assets/js/118.ea34db85.js"><link rel="prefetch" href="/front/assets/js/119.0bfaab32.js"><link rel="prefetch" href="/front/assets/js/12.2c4cb588.js"><link rel="prefetch" href="/front/assets/js/120.50d74497.js"><link rel="prefetch" href="/front/assets/js/121.d72c3a8e.js"><link rel="prefetch" href="/front/assets/js/122.09295870.js"><link rel="prefetch" href="/front/assets/js/123.cd8754ad.js"><link rel="prefetch" href="/front/assets/js/124.8599ee19.js"><link rel="prefetch" href="/front/assets/js/125.bb36b52c.js"><link rel="prefetch" href="/front/assets/js/126.a0b9217f.js"><link rel="prefetch" href="/front/assets/js/127.68a833a6.js"><link rel="prefetch" href="/front/assets/js/128.4d10d1e0.js"><link rel="prefetch" href="/front/assets/js/129.9aea18bf.js"><link rel="prefetch" href="/front/assets/js/13.47f4ed40.js"><link rel="prefetch" href="/front/assets/js/130.d4c512c9.js"><link rel="prefetch" href="/front/assets/js/131.8b7f9305.js"><link rel="prefetch" href="/front/assets/js/132.cadf9b5b.js"><link rel="prefetch" href="/front/assets/js/133.e4f5814d.js"><link rel="prefetch" href="/front/assets/js/134.e429fe2d.js"><link rel="prefetch" href="/front/assets/js/135.c0436459.js"><link rel="prefetch" href="/front/assets/js/136.cd68c699.js"><link rel="prefetch" href="/front/assets/js/137.d38a658e.js"><link rel="prefetch" href="/front/assets/js/138.45a1f706.js"><link rel="prefetch" href="/front/assets/js/139.518e1f0b.js"><link rel="prefetch" href="/front/assets/js/14.cc02b638.js"><link rel="prefetch" href="/front/assets/js/140.f57556db.js"><link rel="prefetch" href="/front/assets/js/141.67c56a42.js"><link rel="prefetch" href="/front/assets/js/142.cfcdd90f.js"><link rel="prefetch" href="/front/assets/js/143.d66bf8ec.js"><link rel="prefetch" href="/front/assets/js/144.38b6fd27.js"><link rel="prefetch" href="/front/assets/js/145.eedde921.js"><link rel="prefetch" href="/front/assets/js/146.572261a7.js"><link rel="prefetch" href="/front/assets/js/147.c0efa831.js"><link rel="prefetch" href="/front/assets/js/148.a4a94869.js"><link rel="prefetch" href="/front/assets/js/149.d717ed57.js"><link rel="prefetch" href="/front/assets/js/15.f81efa2d.js"><link rel="prefetch" href="/front/assets/js/150.ba10402d.js"><link rel="prefetch" href="/front/assets/js/151.f9ba5f27.js"><link rel="prefetch" href="/front/assets/js/152.def24f58.js"><link rel="prefetch" href="/front/assets/js/153.dc54766e.js"><link rel="prefetch" href="/front/assets/js/154.8364bca4.js"><link rel="prefetch" href="/front/assets/js/16.f3b62eec.js"><link rel="prefetch" href="/front/assets/js/17.a5759c36.js"><link rel="prefetch" href="/front/assets/js/18.7bd944cb.js"><link rel="prefetch" href="/front/assets/js/19.00681f0e.js"><link rel="prefetch" href="/front/assets/js/20.79fe3cef.js"><link rel="prefetch" href="/front/assets/js/21.51bab3a7.js"><link rel="prefetch" href="/front/assets/js/22.53a581e9.js"><link rel="prefetch" href="/front/assets/js/23.3a22ed80.js"><link rel="prefetch" href="/front/assets/js/24.c6eaff3b.js"><link rel="prefetch" href="/front/assets/js/25.f202a73c.js"><link rel="prefetch" href="/front/assets/js/26.72c2ac52.js"><link rel="prefetch" href="/front/assets/js/27.bfe86fc4.js"><link rel="prefetch" href="/front/assets/js/28.9e69ba82.js"><link rel="prefetch" href="/front/assets/js/29.5d6c3d24.js"><link rel="prefetch" href="/front/assets/js/3.915c41f3.js"><link rel="prefetch" href="/front/assets/js/30.0252e9a7.js"><link rel="prefetch" href="/front/assets/js/31.b8d6dd02.js"><link rel="prefetch" href="/front/assets/js/32.5745108b.js"><link rel="prefetch" href="/front/assets/js/33.6c082622.js"><link rel="prefetch" href="/front/assets/js/34.51fc02cf.js"><link rel="prefetch" href="/front/assets/js/35.5de55417.js"><link rel="prefetch" href="/front/assets/js/36.e96f5acb.js"><link rel="prefetch" href="/front/assets/js/37.ca798fd7.js"><link rel="prefetch" href="/front/assets/js/38.65ac05a2.js"><link rel="prefetch" href="/front/assets/js/39.047b6a29.js"><link rel="prefetch" href="/front/assets/js/4.08a1bd55.js"><link rel="prefetch" href="/front/assets/js/40.a9548aae.js"><link rel="prefetch" href="/front/assets/js/41.abefe083.js"><link rel="prefetch" href="/front/assets/js/42.92e53336.js"><link rel="prefetch" href="/front/assets/js/43.b2208c30.js"><link rel="prefetch" href="/front/assets/js/44.649c9df3.js"><link rel="prefetch" href="/front/assets/js/45.36b52193.js"><link rel="prefetch" href="/front/assets/js/46.5c84b16f.js"><link rel="prefetch" href="/front/assets/js/47.18cfc10d.js"><link rel="prefetch" href="/front/assets/js/48.234f28f3.js"><link rel="prefetch" href="/front/assets/js/49.0e939add.js"><link rel="prefetch" href="/front/assets/js/5.e696c1fb.js"><link rel="prefetch" href="/front/assets/js/50.65a34042.js"><link rel="prefetch" href="/front/assets/js/51.3f91e36c.js"><link rel="prefetch" href="/front/assets/js/52.1cc662a6.js"><link rel="prefetch" href="/front/assets/js/53.b6dade5a.js"><link rel="prefetch" href="/front/assets/js/54.8acd303e.js"><link rel="prefetch" href="/front/assets/js/55.cf49f1c1.js"><link rel="prefetch" href="/front/assets/js/56.c025c8e8.js"><link rel="prefetch" href="/front/assets/js/57.258a2a71.js"><link rel="prefetch" href="/front/assets/js/58.f5528395.js"><link rel="prefetch" href="/front/assets/js/59.ac534477.js"><link rel="prefetch" href="/front/assets/js/6.50577f83.js"><link rel="prefetch" href="/front/assets/js/60.5e4b9cfb.js"><link rel="prefetch" href="/front/assets/js/61.c9ff37c8.js"><link rel="prefetch" href="/front/assets/js/62.956fdc67.js"><link rel="prefetch" href="/front/assets/js/63.578ada75.js"><link rel="prefetch" href="/front/assets/js/64.300b8609.js"><link rel="prefetch" href="/front/assets/js/65.87022ef8.js"><link rel="prefetch" href="/front/assets/js/66.60558a8f.js"><link rel="prefetch" href="/front/assets/js/67.aec69cb4.js"><link rel="prefetch" href="/front/assets/js/68.fd7484b3.js"><link rel="prefetch" href="/front/assets/js/69.a308c37a.js"><link rel="prefetch" href="/front/assets/js/7.02998c2e.js"><link rel="prefetch" href="/front/assets/js/71.b459ef85.js"><link rel="prefetch" href="/front/assets/js/72.aef40683.js"><link rel="prefetch" href="/front/assets/js/73.9034666f.js"><link rel="prefetch" href="/front/assets/js/74.a8d37b82.js"><link rel="prefetch" href="/front/assets/js/75.6919a628.js"><link rel="prefetch" href="/front/assets/js/76.4afe0b79.js"><link rel="prefetch" href="/front/assets/js/77.2df83c0e.js"><link rel="prefetch" href="/front/assets/js/78.3a2d1c2d.js"><link rel="prefetch" href="/front/assets/js/79.a6196c9d.js"><link rel="prefetch" href="/front/assets/js/8.182c227e.js"><link rel="prefetch" href="/front/assets/js/80.24eb3b72.js"><link rel="prefetch" href="/front/assets/js/81.7638e47b.js"><link rel="prefetch" href="/front/assets/js/82.8be75e93.js"><link rel="prefetch" href="/front/assets/js/83.4b722b8a.js"><link rel="prefetch" href="/front/assets/js/84.d7d56510.js"><link rel="prefetch" href="/front/assets/js/85.d496ef47.js"><link rel="prefetch" href="/front/assets/js/86.f425ee27.js"><link rel="prefetch" href="/front/assets/js/87.37f00e88.js"><link rel="prefetch" href="/front/assets/js/88.bd50e09f.js"><link rel="prefetch" href="/front/assets/js/89.f09e75ed.js"><link rel="prefetch" href="/front/assets/js/9.5c2f0c58.js"><link rel="prefetch" href="/front/assets/js/90.b1601f14.js"><link rel="prefetch" href="/front/assets/js/91.19506841.js"><link rel="prefetch" href="/front/assets/js/92.094d7fae.js"><link rel="prefetch" href="/front/assets/js/93.190eb68d.js"><link rel="prefetch" href="/front/assets/js/94.f684755c.js"><link rel="prefetch" href="/front/assets/js/95.7a06e44e.js"><link rel="prefetch" href="/front/assets/js/96.7fc3f338.js"><link rel="prefetch" href="/front/assets/js/97.9bee9a03.js"><link rel="prefetch" href="/front/assets/js/98.8f96f5b3.js"><link rel="prefetch" href="/front/assets/js/99.d7426be1.js">
    <link rel="stylesheet" href="/front/assets/css/0.styles.d5ecb08d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/front/" class="router-link-active home-link"><img src="/front/logo.png" alt="风车 | 前端同一构建平台" class="logo"> <span class="site-name">风车 | 前端同一构建平台</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-submenu-selected"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          快速入门与学习
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          脚手架
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/front/func/">
          常用工具函数
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/front/specs/">
          开发流程及规范
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          Demo
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><a href="/front/framework/react/" aria-current="page" title="React 开发参考手册" class="sidebar-link">React 开发参考手册</a></li><li><a href="/front/framework/react/开发规范.html" title="开发规范" class="sidebar-link">开发规范</a></li><li><a href="/front/framework/react/react生态系统一览.html" title="react生态系统一览" class="sidebar-link">react生态系统一览</a></li><li><a href="/front/framework/react/reactJs知识体系.html" title="react.js 结构" class="sidebar-link">react.js 结构</a></li><li><a href="/front/framework/react/安装.html" title="建立并运行一个react项目" class="sidebar-link">建立并运行一个react项目</a></li><li><a href="/front/framework/react/createClass与class语法.html" title="createClass与class语法" class="sidebar-link">createClass与class语法</a></li><li><a href="/front/framework/react/生命周期.html" title="生命周期" class="sidebar-link">生命周期</a></li><li><a href="/front/framework/react/jsx语法.html" title="JSX" class="sidebar-link">JSX</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>界面渲染</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><a href="/front/framework/react/事件.html" title="事件" class="sidebar-link">事件</a></li><li><a href="/front/framework/react/表单.html" title="表单" class="active sidebar-link">表单</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/framework/react/表单.html#一-value与onchange" title="(一) value与onChange" class="sidebar-link">(一) value与onChange</a></li><li class="sidebar-sub-header"><a href="/front/framework/react/表单.html#二-最原始的表单处理" title="(二)最原始的表单处理" class="sidebar-link">(二)最原始的表单处理</a></li><li class="sidebar-sub-header"><a href="/front/framework/react/表单.html#二-更快的处理表单事件" title="(二)更快的处理表单事件" class="sidebar-link">(二)更快的处理表单事件</a></li><li class="sidebar-sub-header"><a href="/front/framework/react/表单.html#三-设计表单组件" title="(三)设计表单组件" class="sidebar-link">(三)设计表单组件</a></li><li class="sidebar-sub-header"><a href="/front/framework/react/表单.html#四-其他-特殊的表单组件-file-input" title="(四) 其他:特殊的表单组件 file-input" class="sidebar-link">(四) 其他:特殊的表单组件 file-input</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>组件</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><a href="/front/framework/react/ref.html" title="ref" class="sidebar-link">ref</a></li><li><a href="/front/framework/react/操作DOM.html" title="操作DOM" class="sidebar-link">操作DOM</a></li><li><a href="/front/framework/react/使用Fragment.html" title="Fragment" class="sidebar-link">Fragment</a></li><li><a href="/front/framework/react/性能优化.html" title="性能优化" class="sidebar-link">性能优化</a></li><li><a href="/front/framework/react/es5和es6.html" title="es5与es6" class="sidebar-link">es5与es6</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="表单"><a href="#表单" class="header-anchor">#</a> 表单</h1> <h2 id="一-value与onchange"><a href="#一-value与onchange" class="header-anchor">#</a> (一) value与<code>onChange</code></h2> <p>如果我们在表单元素中直接使用value绑定数据，我们将会发现表单无法更改，打开控制台，也会报出如下错误。</p> <div class="language-js extra-class"><pre class="language-js"><code>Warning<span class="token operator">:</span> Failed form propType<span class="token operator">:</span> You provided a <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">value</span><span class="token template-punctuation string">`</span></span> prop to a form field without an <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">onChange</span><span class="token template-punctuation string">`</span></span> handler<span class="token punctuation">.</span> This will render a read<span class="token operator">-</span>only field<span class="token punctuation">.</span> If the field should be mutable use <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">defaultValue</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span> Otherwise<span class="token punctuation">,</span> <span class="token keyword">set</span> either <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">onChange</span><span class="token template-punctuation string">`</span></span> or <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">readOnly</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span> Check the render method <span class="token keyword">of</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">xxx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span>
</code></pre></div><p>这个时候有两种处理方法，第一种是将表单组件处理为不受控组件，加上defaultValue就可以支持更改了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token string">'name'</span> type<span class="token operator">=</span><span class="token string">'text'</span> defaultValue<span class="token operator">=</span><span class="token string">'shanghai'</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>另一种稍微麻烦一些。我们组件处理成受控组件，使用state来控制input的value，通过onChange控制数据的刷新。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token string">'name'</span> type<span class="token operator">=</span><span class="token string">'text'</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>province<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleProvince<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token function-variable function">getInitialState</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      province<span class="token operator">:</span> <span class="token string">'shanghai'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function-variable function">handleProvince</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      province<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>一般来说，我们会通过受控组件来控制表单组件。</p> <h2 id="二-最原始的表单处理"><a href="#二-最原始的表单处理" class="header-anchor">#</a> (二)最原始的表单处理</h2> <h3 id="实例"><a href="#实例" class="header-anchor">#</a> 实例</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MyForm <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>学生信息表<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'stuName'</span><span class="token operator">&gt;</span>请输入姓名<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> name<span class="token operator">=</span><span class="token string">'stuName'</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>name<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleStuName<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'gender'</span><span class="token operator">&gt;</span>请选择性别<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">}</span>
          value<span class="token operator">=</span><span class="token string">'0'</span>
          id<span class="token operator">=</span><span class="token string">'male'</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleStuGender<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'male'</span><span class="token operator">&gt;</span>男<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">}</span>
          value<span class="token operator">=</span><span class="token string">'1'</span>
          id<span class="token operator">=</span><span class="token string">'female'</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleStuGender<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'female'</span><span class="token operator">&gt;</span>女<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        喜欢的运动<span class="token operator">:</span>
        <span class="token operator">&lt;</span>input
          id<span class="token operator">=</span><span class="token string">'basketball'</span>
          type<span class="token operator">=</span><span class="token string">'checkbox'</span>
          value<span class="token operator">=</span><span class="token string">'basketball'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'basketball'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleStuHobby<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'basketball'</span><span class="token operator">&gt;</span>篮球<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          id<span class="token operator">=</span><span class="token string">'football'</span>
          type<span class="token operator">=</span><span class="token string">'checkbox'</span>
          value<span class="token operator">=</span><span class="token string">'football'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'football'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleStuHobby<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'football'</span><span class="token operator">&gt;</span>足球<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          id<span class="token operator">=</span><span class="token string">'other'</span>
          type<span class="token operator">=</span><span class="token string">'checkbox'</span>
          value<span class="token operator">=</span><span class="token string">'other'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'other'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleStuHobby<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'other'</span><span class="token operator">&gt;</span>其他<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        来源<span class="token operator">:</span>
        <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>area<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleOriginChange<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'beijing'</span><span class="token operator">&gt;</span>北京地区<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'shanghai'</span><span class="token operator">&gt;</span>上海地区<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'guangzhou'</span><span class="token operator">&gt;</span>广州地区<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'note'</span><span class="token operator">&gt;</span>备注<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>note<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleNoteChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getInitialState</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      stu<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        note<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        gender<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        hobby<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        area<span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handleStuName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> updateStuInfo <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stuInfo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">,</span> updateStuInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      stu<span class="token operator">:</span> stuInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">handleNoteChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> updateStuInfo <span class="token operator">=</span> <span class="token punctuation">{</span> note<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stuInfo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">,</span> updateStuInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      stu<span class="token operator">:</span> stuInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">handleStuGender</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> updateStuInfo <span class="token operator">=</span> <span class="token punctuation">{</span> gender<span class="token operator">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stuInfo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">,</span> updateStuInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      stu<span class="token operator">:</span> stuInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">handleStuHobby</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> checked <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>
    <span class="token keyword">const</span> hobby <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">let</span> stuHobby <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>checked <span class="token operator">&amp;&amp;</span> stuHobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>hobby<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stuHobby<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      stuHobby <span class="token operator">=</span> stuHobby<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item <span class="token operator">!==</span> hobby<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> updateStuInfo <span class="token operator">=</span> <span class="token punctuation">{</span> hobby<span class="token operator">:</span> stuHobby <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stuInfo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">,</span> updateStuInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      stu<span class="token operator">:</span> stuInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handleOriginChange</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> updateStuInfo <span class="token operator">=</span> <span class="token punctuation">{</span> origin<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stuInfo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">,</span> updateStuInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      stu<span class="token operator">:</span> stuInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyForm<span class="token punctuation">;</span>
</code></pre></div><h2 id="二-更快的处理表单事件"><a href="#二-更快的处理表单事件" class="header-anchor">#</a> (二)更快的处理表单事件</h2> <blockquote><p>在react中，表单的处理略微繁琐，因为表单的value与state绑定在一起，我们要更新value,只能先去更新state，相当于我们需要手动刷新value值，可以看到上例中存在很多刷新表单value的事件。不断重复的写相同功能的事件显得代码十分臃肿，那么有没有更好的办法处理事件呢？当然有，请看以下</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MyForm <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>学生信息表<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'stuName'</span><span class="token operator">&gt;</span>请输入姓名<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> id<span class="token operator">=</span><span class="token string">'stuName'</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>name<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'gender'</span><span class="token operator">&gt;</span>请选择性别<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'0'</span><span class="token punctuation">}</span>
          value<span class="token operator">=</span><span class="token string">'0'</span>
          id<span class="token operator">=</span><span class="token string">'male'</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'gender'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'male'</span><span class="token operator">&gt;</span>男<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">}</span>
          value<span class="token operator">=</span><span class="token string">'1'</span>
          id<span class="token operator">=</span><span class="token string">'female'</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'gender'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'female'</span><span class="token operator">&gt;</span>女<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        喜欢的运动<span class="token operator">:</span>
        <span class="token operator">&lt;</span>input
          id<span class="token operator">=</span><span class="token string">'basketball'</span>
          type<span class="token operator">=</span><span class="token string">'checkbox'</span>
          value<span class="token operator">=</span><span class="token string">'basketball'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'basketball'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'hobby'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'basketball'</span><span class="token operator">&gt;</span>篮球<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          id<span class="token operator">=</span><span class="token string">'football'</span>
          type<span class="token operator">=</span><span class="token string">'checkbox'</span>
          value<span class="token operator">=</span><span class="token string">'football'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'football'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'hobby'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'football'</span><span class="token operator">&gt;</span>足球<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          id<span class="token operator">=</span><span class="token string">'other'</span>
          type<span class="token operator">=</span><span class="token string">'checkbox'</span>
          value<span class="token operator">=</span><span class="token string">'other'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'other'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'hobby'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'other'</span><span class="token operator">&gt;</span>其他<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        来源<span class="token operator">:</span>
        <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>area<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'area'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'beijing'</span><span class="token operator">&gt;</span>北京地区<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'shanghai'</span><span class="token operator">&gt;</span>上海地区<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'guangzhou'</span><span class="token operator">&gt;</span>广州地区<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'note'</span><span class="token operator">&gt;</span>备注<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>note<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'note'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getInitialState</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      stu<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        note<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        gender<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
        hobby<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        area<span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handleForm</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> stu <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!==</span> <span class="token string">'hobby'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stu<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> isChecked <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>
      <span class="token keyword">let</span> stuHobby <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stu<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>isChecked <span class="token operator">&amp;&amp;</span> stuHobby<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stuHobby<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        stuHobby <span class="token operator">=</span> stuHobby<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> item <span class="token operator">!==</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      stu<span class="token punctuation">.</span>hobby <span class="token operator">=</span> stuHobby<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span>
        stu<span class="token operator">:</span> stu
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyForm<span class="token punctuation">;</span>

</code></pre></div><h2 id="三-设计表单组件"><a href="#三-设计表单组件" class="header-anchor">#</a> (三)设计表单组件</h2> <blockquote><p>实际的开发中，表单常常是根据不同的对象分为不同的模块。这些模块往往是一个一个的组件，那么我们在开发表单组件的时候要注意什么呢？</p></blockquote> <ul><li>考虑输入(数据源来自何处)
<ul><li>我们要接受用户哪些数据</li> <li>数据清理:数据怎么传输才方便我们处理</li></ul></li> <li>考虑输出
<ul><li>如何将数据传输出去</li></ul></li> <li>兼用
<ul><li>表单一般呈现出两种状态:新增状态和修改状态，两种不同的状态如何由参数控制，又有何区别</li></ul></li> <li>表单校验
<ul><li>表单输入的时候是否校验、要校验哪些内容</li> <li>注意以下常用校验
<ul><li>长度校验(注意边界)</li> <li>类型校验</li> <li>格式校验</li></ul></li></ul></li></ul> <p>以下是我们根据以上考虑设计的表单组件实例</p> <p>假设我们目前要展现员工信息，有以下字段</p> <table><thead><tr><th>字段名称</th> <th>字段描述</th> <th>备注</th></tr></thead> <tbody><tr><td><code>staffNo</code></td> <td>员工编号</td> <td>不可编辑</td></tr> <tr><td>name</td> <td>姓名</td> <td>2-10个字之间</td></tr> <tr><td>gender</td> <td>性别</td> <td>0 男 1女</td></tr> <tr><td>birthday</td> <td>出生年月</td> <td>提供年的选择范围为当前年40年-当前年</td></tr> <tr><td>phone</td> <td>手机号</td> <td></td></tr> <tr><td>email</td> <td>邮箱</td> <td></td></tr> <tr><td><code>departmentId</code></td> <td>部门</td> <td></td></tr> <tr><td><code>jobId</code></td> <td>职位</td> <td></td></tr> <tr><td><code>isOnWork</code></td> <td>是否在职</td> <td>0离职,1在职</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> StaffForm <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>员工信息表<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'staffNo'</span><span class="token operator">&gt;</span>员工编号<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>no<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'no'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'name'</span><span class="token operator">&gt;</span>姓名<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> id<span class="token operator">=</span><span class="token string">'name'</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>name<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'gender'</span><span class="token operator">&gt;</span>性别<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          value<span class="token operator">=</span><span class="token string">'0'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'0'</span><span class="token punctuation">}</span>
          id<span class="token operator">=</span><span class="token string">'male'</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'gender'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'male'</span><span class="token operator">&gt;</span>男<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          value<span class="token operator">=</span><span class="token string">'1'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">}</span>
          id<span class="token operator">=</span><span class="token string">'female'</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'gender'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'female'</span><span class="token operator">&gt;</span>女<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        出生年月<span class="token operator">:</span>
        <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>birthdayYear<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'birthdayYear'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>year<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span>item<span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
        年
        <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>birthdayMonth<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'birthdayMonth'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>month<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span>item<span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
        月
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'name'</span><span class="token operator">&gt;</span>手机号<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> id<span class="token operator">=</span><span class="token string">'name'</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>phone<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'phone'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'name'</span><span class="token operator">&gt;</span>邮箱<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'email'</span> id<span class="token operator">=</span><span class="token string">'name'</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>email<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        部门<span class="token operator">:</span>
        <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>departmentId<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'departmentId'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>department<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>departmentId<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>departmentId<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        职位<span class="token operator">:</span>
        <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>jobId<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'jobId'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>job<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>jobId<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>jobId<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        是否在职<span class="token operator">:</span>
        <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">.</span>isOnWork<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleForm</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'isOnWork'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'0'</span><span class="token operator">&gt;</span>离职<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'1'</span><span class="token operator">&gt;</span>在职<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getInitialState</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      staff<span class="token operator">:</span> <span class="token punctuation">{</span>
        no<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        gender<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
        birthdayYear<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        birthdayMonth<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        phone<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        email<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        departmentId<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        jobId<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        isOnWork<span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">componentWillMount</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>department <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">13</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>month<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> nowYear <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> MinYear <span class="token operator">=</span> nowYear <span class="token operator">-</span> <span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>year<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>MinYear <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">componentDidMount</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//  action add 新增 alter修改,不要用update,update可能会与sql冲突</span>
    <span class="token comment">//  修改操作的时候往往要查询数据，我们这里设定为查询从内部发起</span>
    <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token string">'alter'</span><span class="token punctuation">;</span>

    <span class="token comment">//  查询部门</span>
    <span class="token keyword">const</span> departmentRes <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDepartmentRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>department <span class="token operator">=</span> departmentRes<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> departmentRes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>job<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">'alter'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getStateInfoRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> data<span class="token punctuation">.</span>info<span class="token punctuation">;</span>

      <span class="token keyword">const</span> birthdayYear <span class="token operator">=</span> res<span class="token punctuation">.</span>birthday<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> birthdayMonth <span class="token operator">=</span> res<span class="token punctuation">.</span>birthday<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>birthdayMonth<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        birthdayMonth <span class="token operator">=</span> birthdayMonth<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">const</span> staff <span class="token operator">=</span> <span class="token punctuation">{</span>
        no<span class="token operator">:</span> res<span class="token punctuation">.</span>no<span class="token punctuation">,</span>
        name<span class="token operator">:</span> res<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
        gender<span class="token operator">:</span> res<span class="token punctuation">.</span>gender<span class="token punctuation">,</span>
        birthdayYear<span class="token operator">:</span> birthdayYear<span class="token punctuation">,</span>
        birthdayMonth<span class="token operator">:</span> birthdayMonth<span class="token punctuation">,</span>
        phone<span class="token operator">:</span> res<span class="token punctuation">.</span>phone<span class="token punctuation">,</span>
        email<span class="token operator">:</span> res<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
        isOnWork<span class="token operator">:</span> res<span class="token punctuation">.</span>isOnWork<span class="token punctuation">,</span>
        departmentId<span class="token operator">:</span> res<span class="token punctuation">.</span>departmentId<span class="token punctuation">,</span>
        jobId<span class="token operator">:</span> res<span class="token punctuation">.</span>jobId
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> staffDepartment <span class="token operator">=</span> departmentRes<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item<span class="token punctuation">.</span>departmentId<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> res<span class="token punctuation">.</span>departmentId<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> staffDepartment<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>job<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        staff<span class="token operator">:</span> staff
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handleForm</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> staff <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>staff<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    staff<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      staff<span class="token operator">:</span> staff
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//  获取员工信息</span>
  <span class="token function-variable function">getStateInfoRequest</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      info<span class="token operator">:</span> <span class="token punctuation">{</span>
        no<span class="token operator">:</span> <span class="token string">'1110'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'李枫'</span><span class="token punctuation">,</span>
        gender<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
        birthday<span class="token operator">:</span> <span class="token string">'198904'</span><span class="token punctuation">,</span>
        phone<span class="token operator">:</span> <span class="token string">'12334562345'</span><span class="token punctuation">,</span>
        email<span class="token operator">:</span> <span class="token string">'123212312@gmail.com'</span><span class="token punctuation">,</span>
        departmentId<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
        jobId<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
        isOnWork<span class="token operator">:</span> <span class="token string">'1'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getDepartmentRequest</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        departmentId<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'企业发展事业群'</span><span class="token punctuation">,</span>
        job<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'Android客户端高级工程师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'后台开发高级工程师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'高级产品经理'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'数据分析工程师'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        departmentId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'互动娱乐事业群'</span><span class="token punctuation">,</span>
        job<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'版本管理'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'平台运营策划'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'手游运营推广'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'运营经理'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        departmentId<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'技术工程事业部'</span><span class="token punctuation">,</span>
        job<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'物联网平台架构师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'边缘计算平台架构师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'FPGA研发工程师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'异构计划专家工程师'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        departmentId<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'云与智慧产业事业部'</span><span class="token punctuation">,</span>
        job<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'交通流系统工程师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'商务分析经理'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'语音识别算法研究员'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'商务拓展经理'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        departmentId<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'平台与内容事业部'</span><span class="token punctuation">,</span>
        job<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'信息流后台开发工程师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'平台产品运营'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'IOS开发工程师'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            jobId<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'web前端工程师'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> StaffForm<span class="token punctuation">;</span>

</code></pre></div><h2 id="四-其他-特殊的表单组件-file-input"><a href="#四-其他-特殊的表单组件-file-input" class="header-anchor">#</a> (四) 其他:特殊的表单组件 file-input</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/front/framework/react/事件.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        事件
      </a></span> <span class="next"><a href="/front/framework/react/组件/state.html">
        state
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"></div></div>
    <script src="/front/assets/js/app.2622081b.js" defer></script><script src="/front/assets/js/2.63570a15.js" defer></script><script src="/front/assets/js/70.4c27af6e.js" defer></script>
  </body>
</html>