(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1048:function(t,e,a){"use strict";a.r(e);var r=a(112),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"受控组件与非受控组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#受控组件与非受控组件"}},[t._v("#")]),t._v(" 受控组件与非受控组件")]),t._v(" "),a("blockquote",[a("p",[t._v("受控组件这个概念一般用于表单；区别受控组件与非受控组件很简单，简单来说，就是是否使用react来管理表单的值。")])]),t._v(" "),a("h2",{attrs:{id:"受控组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#受控组件"}},[t._v("#")]),t._v(" 受控组件")]),t._v(" "),a("p",[t._v("表单一个元素的value或者其他属性与React的state绑定，表单元素的改变会引起state的改变，并且进行重新的值绑定。")]),t._v(" "),a("p",[t._v("react受控组件更新state的流程")]),t._v(" "),a("ul",[a("li",[t._v("通过state设置表单的默认值")]),t._v(" "),a("li",[t._v("表单值发生改变时，调用"),a("code",[t._v("onChange")]),t._v("事件")]),t._v(" "),a("li",[t._v("通过合成事件对象e拿到改变的状态，并且应用state")]),t._v(" "),a("li",[a("code",[t._v("setState")]),t._v("触发视图的重新渲染，完成表单组件值的更新")])]),t._v(" "),a("p",[t._v("使用受控组件的好处，在"),a("code",[t._v("onChange")]),t._v("事件中进行数据清洗和校验")]),t._v(" "),a("h2",{attrs:{id:"非受控组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非受控组件"}},[t._v("#")]),t._v(" 非受控组件")]),t._v(" "),a("blockquote",[a("p",[t._v("没有通过state去绑定value,表单元素的状态依然由表单元素自己管理。")])]),t._v(" "),a("p",[t._v("非受控组件中设置默认值时，react无法控制表单元素的value属性。所以，我们可以通过"),a("code",[t._v("defaultValue")]),t._v("和"),a("code",[t._v("defaultChecked prop")]),t._v("来表示组件的默认状态。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input ref"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" defaultValue"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shanghai"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"受控组件还是非受控组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#受控组件还是非受控组件"}},[t._v("#")]),t._v(" 受控组件还是非受控组件")]),t._v(" "),a("p",[t._v("参考:")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://react.docschina.org/docs/uncontrolled-components.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("非受控组件 – React"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://goshakkk.name/controlled-vs-uncontrolled-inputs-react/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Controlled and uncontrolled form inputs in React don't have to be complicated - Gosha Arinich"),a("OutboundLink")],1)])])]),t._v(" "),a("p",[t._v("最后总结为一句话，不到非常境地不使用非受控组件")])])}),[],!1,null,null,null);e.default=s.exports}}]);